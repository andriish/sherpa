@node MinBias
@section Physics and parameters for simulation of minimum bias events

Minimum bias events are simulated through the Shrimps module in Sherpa.

@subsection Physics of Shrimps

@subsubsection Inclusive part of the model

Shrimps is based on the KMR model, which is a multi-channel eikonal model. The
incoming hadrons written as a superposition of Good-Walker states, which are
diffractive eigenstates that diagalonise the T-matrix. This allows to include
low-mass diffractive excitatoin. Each combination of colliding Good-Walker
states gives rise to a single-channel eikonal. The final eikonal is the
superposition of the single-channel eikonals. The number of Good-Walker states
is given by the parameter @code{GW_States} and can be 1 or 2 in Shrimps (the
original KMR model includes 3 states).

Each single-channel eikonal can be seen as the product of two parton densities,
one from each of the colliding Good-Walker states. The evolution of the parton
densities in rapidity due to extra emissions and absoption on either of the two
hadrons is described by a set of coupled differential equations. The parameter
@code{Delta}, which can be interpreted as the Pomeron intercept, is the
probability for emitting an extra parton per unit of rapidity. The strength of
absorptive corrections is quantified by the parameter @code{lambda}, which can
also be seen as the triple-Pomeron coupling. A small region of size
@code{deltaY} around the beams is excluded from the evolution due to the finite
longitudinal size of the parton densities.

The boundary conditions for the parton densities are form factors, which can be 
of dipole or Gauss form (the parameter @code{FF_Form} switches between the
two). The form factors are characterised by the parameters @code{Lambda2},
@code{beta_0^2}, @code{kappa} and @code{xi}.

In this framework the eikonals and the cross sections for the different modes
(elastic, inelastic, single- and double-diffractive) are calculated. 

@subsubsection Exclusive part of the model

Inelastic events are generated by explicitely simulating the exchange and
rescattering of gluon ladders. The number of primary ladders is given by a
Poisson distribution whose parameter is the single-channel eikonal. The
decomposition of the incoming hadrons into partons proceeds via suitably
infra-red continued PDFs. 

The emissions from the ladders are then generated in
a Markov chain. The pseudo-Sudakov form factor contains several factors: an
ordinary gluon emission term, a factor accounting for the Reggeisation of the
gluons and a recombination weight taking absorptive corrections into account.
The emission term has the perturbative form alpha_s(k_T^2)/k_T^2, that needs to
be continued into the infra-red region. The parameters @code{As_Form} and
@code{KT_Form} provide different options for the form of alpha_s and 1/k_T^2,
respectively. In the case of alpha_s the transition into the infra-red region
happens at @code{Q_as^2} while in the case of 1/k_T^2 the transition scale is
generated dynamically and depends on the parton densities, @code{Q_0^2} and
@code{Q_N^2}. The Reggeisation factor can be absent, including only the
Reggeisation of the propagator or a diffusion term in addition to the
Reggeisation. This is switched with the parameter @code{Ladder_Weight}. The
diffusion term comes with the parameters @code{D_diff^2} and @code{K_diff}.
Finally, the recombination weight can have an exponential or a factorial form,
this is steered by the parameter @code{Absorption}. Different kinds of orderings
of the emissions can be imposed with the parameter @code{Ordering}. A last 
parameter related to the generation of emissions off a ladder is
@code{KTMin_Mode}, which allows to force the transverse momentum of the emission
to be at least the transverse momentum of the emitting propagator.

The propagators of the filled ladder can be either in a colour singlet or octet
state, the probabilities are again given through the parton densities. The
probability for a singlet can also be regulated by hand through the parameter
@code{Chi_S}. A singlet propagator is the result of an implicit rescattering. 

After all emissions have been generated and the colours assigned further
radiation is generated by the parton shower to resum also the logrithms in
1/Q^2. 

Partons emitted from the ladder or the parton shower are subject to explicit
rescattering, i.e. they can exchange secondary ladders. The rescattering can be
switched off with the parameter @code{Rescattering}. The probability for the
exchange of a rescattering ladder is characterised by @code{RescProb}. The
rescattering over a singlet propagator can be treated differently: It can be
switched off with @code{RescOverSinglet}, when it is switched on the rescatter
probability receives an extra factor @code{RescProb1}. The filling of secondary
ladders proceeds as for primary ladders with a few exceptions: With
@code{Resc_NoSinglet} it can be forbidden that secondary ladders have no
emissions and a colour singlet propagator and with @code{Resc_KTMin} a minimal
transverse momentum of the emission can be enforced.

After all ladder echanges and rescatterings but before hadronsation colour can
be re-arranged in the event. These colour reconnections are switched on with
the parameter @code{Reconnections}. The probability for colour swapping between
a pair of partons decreases with its distance, the distance measure is
regulated with the parameter. The reconnection probability is controlled by
@code{ReconnProb} (which enters as exp(@code{ReconnProb}).

Finally, the event is hadronised using the standard Sherpa cluster
hadronisation.

@subsection Parameters and settings

Below is a list of all relevant parameters to steer the Shrimps module.

@subsubsection Shrimps Mode
@cindex Shrimps_Mode

The setup of minimum bias events and other, related simulations, is 
covered by the '(run)' section of the run card.  The exact choice is steered
through the parameter @code{Shrimps_Mode} (default @code{Inelastic}),
which allows the following settings:
@itemize @bullet
@item @code{Xsecs}, which will only calculate total, elastic, inelastic,
      single- and double-diffractive cross sections at various relevant energies
      and write them to a file, typically 'InclusiveQuantities/Xsecs.dat';
@item @code{Elastic}
      generates elastic events at a fixed energy;
@item @code{Single-diffractive}
      generates low-mass single-diffractive events at a fixed energy, 
      modelled by the transition of one of the protons to a N(1440) state;
@item @code{Double-diffractive}
      generates low-mass single-diffractive events at a fixed energy, 
      modelled by the transition of both protons to N(1440) states;
@item @code{Quasi-elastic}
      generates a combination of elastic, single- and double-diffractive
      events in due proportion;
@item @code{Inelastic}
      generates inelastic minimum bias events through the exchange of t-channel
      gluons or singlets (pomerons).  This mode actually will include
      large mass diffraction;
@item @code{All}
      generates a combination of quasi-elastic and inelastic events in due 
      proportion.
@end itemize

@subsubsection Parameters of the eikonals
@cindex Lambda2
@cindex beta_0^2
@cindex kappa
@cindex xi
@cindex deltaY
@cindex lambda
@cindex Delta
@cindex GW_States
@cindex FF_Form

In obvious nomenclature, the parameters defining the eikonals as outlined above 
translate into the following parameters:

@itemize @bullet
@item @code{Lambda2} (default @math{1.0 GeV^2})
@item @code{beta_0^2} (default 24.8 mb)
@item @code{kappa} (default 0.538)
@item @code{xi} (default 0.145)
@item @code{deltaY} (default 1.0)
@item @code{lambda} (default 0.3)
@item @code{Delta} (default 0.3)
@item @code{GW_States} (default 2; can be 1 or 2)
@item @code{FF_Form} (default 'dipole'; can be 'dipole' or 'Gauss')
@end itemize

@subsubsection Parameters for event generation
@cindex Q_0^2
@cindex Q_as^2
@cindex Chi_S
@cindex KT2_Factor
@cindex RescProb
@cindex RescProb1
@cindex As_Form
@cindex KT_Form
@cindex Ladder_Weight
@cindex Absorption
@cindex Ordering
@cindex KTMin_Mode
@cindex D_diff^2
@cindex K_diff
@cindex Rescattering
@cindex RescOverSinglet
@cindex Resc_NoSinglet
@cindex Resc_KTMin
@cindex Reconnections
@cindex Q_RC^2
@cindex ReconnProb

In obvious nomenclature, the parameters defining the eikonals as outlined above 
translate into the following parameters:

@itemize @bullet
@item @code{Q_0^2} (default @math{1.0 GeV^2})
@item @code{Q_as^2} (default @math{1.0 GeV^2})
@item @code{Chi_S} (default 1.0)
@item @code{KT2_Factor} (default 1.0)
@item @code{RescProb} (default 1.0)
@item @code{RescProb1} (default 0.0)
@item @code{As_Form} (default 'IR0'; can be 'constant', 'frozen', 'smooth',
'IR0', 'GDH')
@item @code{KT_Form} (default 'IR0'; can be 'cut', 'IR0', 'frozen', 'smooth')
@item @code{Ladder_Weight} (default 'Regge'; can be 'IntervalOnly', 'Regge',
'ReggeDiffusion')
@item @code{Absorption} (default 'factorial'; can be 'factorial' or
'exponential')
@item @code{Ordering} (default 'ao_phys'; can be 'rap_phys', 'ao_phys',
'ao_keep', 'ao', 'keep', 'rap_only')
@item @code{KTMin_Mode} (default 0; can be 0 or 1)
@item @code{D_diff^2} (default 0.)
@item @code{K_diff} (default 0.)
@item @code{Rescattering} (default 'same'; can be 'same' or 'off')
@item @code{RescOverSinglet} (default 'on'; can be 'on' or 'off')
@item @code{Resc_NoSinglet} (default 'off'; can be 'on' or 'off')
@item @code{Resc_KTMin} (default 'on'; can be 'on', 'off' or 'prop')
@item @code{Reconnections} (default 'fix'; can be 'off', fix' or 'run')
@item @code{Q_RC^2} (default 1.)
@item @code{ReconnProb} (default -10.)
@end itemize

TODO: Check parameters and update, where needed.
 
