#!/usr/bin/python2
## from mpi4py import MPI
import sys
sys.path.append('@PYLIBDIR@')
import Sherpa
sys.argv.append('INIT_ONLY=2')

Generator=Sherpa.Sherpa()
try:
    Generator.InitializeTheRun(len(sys.argv),sys.argv)
    ## if MPI.COMM_WORLD.Get_rank()>0:
    ##    exit(1)
    
    Amp=Sherpa.Cluster_Amplitude.New()
    Amp.SetNIn(2)
    Amp.CreateLeg(-Sherpa.Vec4D(45.6,0,0,45.6),Sherpa.Flavour(11,1))
    Amp.CreateLeg(-Sherpa.Vec4D(45.6,0,0,-45.6),Sherpa.Flavour(11,0))
    Amp.CreateLeg(Sherpa.Vec4D(45.6,0,45.6,0),Sherpa.Flavour(1,0))
    Amp.CreateLeg(Sherpa.Vec4D(45.6,0,-45.6,0),Sherpa.Flavour(1,1))
    ME=Generator.GetMEWeight(Amp)
    print "*****************************"
    print "ME^2/s^2: ",ME
    print "*****************************"
        
except Sherpa.Exception as exc:
    exit(1)
